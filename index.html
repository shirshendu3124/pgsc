<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGSC Secretary Nominations - IIT Kharagpur</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="images/Gemini_Generated_Image_7tioye7tioye7tio.png" as="image" type="image/png">
    <link rel="preload" href="images/iitkgp_logo.svg.png" as="image" type="image/png">
    <link rel="preload" href="images/Untitled_design-removebg-preview.png" as="image" type="image/png">
    
    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    
    <!-- Resource hints for better performance -->
    <meta name="theme-color" content="#1a1a2e">
    <meta name="color-scheme" content="dark">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.85), rgba(26, 26, 46, 0.85), rgba(22, 33, 62, 0.85));
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* 3D Parallax Background Container */
        .parallax-container {
            position: fixed;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            z-index: 0;
            pointer-events: none;
            transform-style: preserve-3d;
            perspective: 1000px;
            /* iOS Safari fixes */
            -webkit-transform-style: preserve-3d;
            -webkit-perspective: 1000px;
            will-change: transform;
            overflow: hidden;
        }

        /* Background image with 3D effect */
        .parallax-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('images/Gemini_Generated_Image_7tioye7tioye7tio.png') center/cover no-repeat;
            background-attachment: fixed;
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            opacity: 0.25;
            filter: brightness(0.8) contrast(1.1);
            transition: transform 0.1s ease-out;
            transform-style: preserve-3d;
            /* Performance optimizations */
            -webkit-transform-style: preserve-3d;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            will-change: transform;
            /* Image loading optimization */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            /* Hardware acceleration */
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }

        /* Single parallax layer */
        .parallax-layer-1 {
            transform: translate3d(0, 0, 0);
            opacity: 0.3;
            /* iOS Safari fixes */
            -webkit-transform: translate3d(0, 0, 0);
        }

        /* Mobile/iOS optimizations */
        @media (max-width: 768px), (-webkit-touch-callout: none) {
            .parallax-container {
                position: fixed;
                top: -15vh;
                left: -15vw;
                width: 130vw;
                height: 130vh;
                overflow: hidden;
                transform: none;
            }
            
            .parallax-bg {
                width: 130vw;
                height: 130vh;
                background-attachment: scroll;
                background-size: cover;
                background-position: center center;
                transform: translate3d(0, 0, 0);
                -webkit-transform: translate3d(0, 0, 0);
            }
        }



        /* Glowing lights background */
        .glow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 4;
            pointer-events: none;
        }

        .glow-light {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            animation-timing-function: ease-in-out;
            animation-iteration-count: infinite;
            animation-direction: alternate;
        }

        .glow-1 {
            width: 200px;
            height: 200px;
            background: rgba(100, 200, 255, 0.1);
            top: 20%;
            left: 10%;
            animation: float1 8s infinite;
        }

        .glow-2 {
            width: 150px;
            height: 150px;
            background: rgba(255, 100, 200, 0.08);
            top: 60%;
            right: 20%;
            animation: float2 6s infinite;
        }

        .glow-3 {
            width: 120px;
            height: 120px;
            background: rgba(200, 255, 100, 0.06);
            top: 40%;
            left: 60%;
            animation: float3 10s infinite;
        }

        @keyframes float1 {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(30px, -20px) scale(1.1); }
        }

        @keyframes float2 {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-25px, 15px) scale(0.9); }
        }

        @keyframes float3 {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(20px, 25px) scale(1.2); }
        }

        @keyframes rainbowFlowOnce {
            0% {
                background-position: -200% 50%;
            }
            100% {
                background-position: 200% 50%;
            }
        }



        /* Header styles */
        .header {
            position: relative;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 40px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo-container {
            flex: 0 0 auto;
        }

        .left-logo {
            margin-right: 30px;
        }

        .right-logo {
            margin-left: 30px;
        }

        .nav {
            flex: 1;
            display: flex;
            justify-content: center;
        }

        .iit-logo, .pgsc-logo {
            height: 60px;
            width: auto;
            max-width: 60px;
            object-fit: contain;
            filter: 
                brightness(0) 
                invert(1) 
                drop-shadow(0 0 10px rgba(255, 255, 255, 0.3))
                drop-shadow(0 0 20px rgba(255, 255, 255, 0.1));
            transition: all 0.3s ease;
            /* Image loading optimization */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            /* Hardware acceleration */
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }

        .iit-logo:hover, .pgsc-logo:hover {
            filter: 
                brightness(0) 
                invert(1) 
                drop-shadow(0 0 15px rgba(255, 255, 255, 0.5))
                drop-shadow(0 0 25px rgba(100, 181, 246, 0.3));
            transform: scale(1.05);
        }

        .nav h1 {
            font-size: 2.5rem;
            font-weight: 300;
            background: linear-gradient(45deg, #ffffff, #64b5f6, #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        /* Main content */
        .main-content {
            position: relative;
            z-index: 10;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .pgsc-info {
            margin-bottom: 60px;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .pgsc-info:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3);
            transform: translateY(-2px);
        }



        .pgsc-info h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, 
                #ff0000, #ff4500, #ffa500, #ffff00, 
                #9aff9a, #00ffff, #0080ff, #8a2be2, 
                #ff1493, #ff0000);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-position: -200% 50%;
            transition: all 0.1s ease;
        }

        .pgsc-info h2.rainbow-triggered {
            animation: rainbowFlowOnce 2s ease-in-out forwards;
        }

        .pgsc-info p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Secretary positions */
        .secretary-positions h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 40px;
            background: linear-gradient(90deg, 
                #ff0000, #ff4500, #ffa500, #ffff00, 
                #9aff9a, #00ffff, #0080ff, #8a2be2, 
                #ff1493, #ff0000);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-position: -200% 50%;
            transition: all 0.1s ease;
        }

        .secretary-positions h2.rainbow-triggered {
            animation: rainbowFlowOnce 2s ease-in-out forwards;
        }

        /* Scroll animation sections */
        .scroll-animation-section {
            transform: translateZ(0);
            will-change: transform, opacity;
            transition: all 0.6s ease-out;
        }

        .scroll-animation-section .position-button-container {
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.6s ease;
            transform: scale(0.9);
            opacity: 0.7;
        }

        .scroll-animation-section .position-details {
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.6s ease;
            transform: scale(0.9);
            opacity: 0.7;
        }

        /* Button zoom in state */
        .scroll-animation-section.button-zoom-in .position-button-container {
            transform: scale(1.1);
            opacity: 1;
        }

        .scroll-animation-section.button-zoom-in .position-details {
            transform: scale(0.9);
            opacity: 0.5;
        }

        /* Details zoom in state */
        .scroll-animation-section.details-zoom-in .position-button-container {
            transform: scale(0.95);
            opacity: 0.8;
        }

        .scroll-animation-section.details-zoom-in .position-details {
            transform: scale(1.05);
            opacity: 1;
        }

        /* Active/focused state */
        .scroll-animation-section.active .position-button-container,
        .scroll-animation-section.active .position-details {
            transform: scale(1);
            opacity: 1;
        }

        .position-row {
            display: flex;
            align-items: center;
            margin-bottom: 40px;
            gap: 40px;
            min-height: 200px;
        }

        .position-button-container {
            flex: 0 0 300px;
        }

        /* iOS-style Glass morphism buttons */
        .glass-button {
            width: 100%;
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }



        .glass-button:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3);
        }

        .glass-button:active {
            transform: scale(0.95);
        }

        .glass-button.active {
            background: linear-gradient(135deg, 
                rgba(100, 181, 246, 0.3) 0%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(100, 181, 246, 0.4) 100%);
            border-color: rgba(100, 181, 246, 0.7);
            box-shadow: 
                0 0 40px rgba(100, 181, 246, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .button-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            display: block;
            color: #ffffff;
        }

        .button-subtitle {
            font-size: 0.9rem;
            font-weight: 300;
            opacity: 0.8;
            display: block;
        }

        /* Button flip animation container - NO HOVER INTERACTIONS */
        .button-flip-container {
            width: 100%;
            height: 120px;
            perspective: 1000px;
            pointer-events: none; /* Disable all pointer interactions on container */
        }

        .button-flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-style: preserve-3d;
            transform: rotateY(0deg); /* Default: face front */
            pointer-events: none; /* Disable all pointer interactions on inner container */
        }

        /* Desktop: Flip when details are in focus OR active */
        .scroll-animation-section.details-zoom-in .button-flip-inner,
        .scroll-animation-section.active .button-flip-inner {
            transform: rotateY(180deg) !important;
        }

        /* Mobile: Flip when button is in focus OR details/active (responsive behavior) */
        @media (max-width: 768px) {
            .scroll-animation-section.button-zoom-in .button-flip-inner,
            .scroll-animation-section.details-zoom-in .button-flip-inner,
            .scroll-animation-section.active .button-flip-inner {
                transform: rotateY(180deg) !important;
            }
        }

        /* Front and back sides of the button */
        .button-front, .button-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-decoration: none;
            pointer-events: auto; /* Re-enable clicking on actual buttons */
        }

        /* Front side (Secretary button) */
        .button-front {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* Back side (Apply button) */
        .button-back {
            background: linear-gradient(135deg, 
                rgba(100, 181, 246, 0.8) 0%,
                rgba(64, 162, 255, 0.9) 50%,
                rgba(30, 136, 229, 0.8) 100%);
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            border: 1px solid rgba(100, 181, 246, 0.6);
            color: white;
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 
                0 8px 32px rgba(100, 181, 246, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* Hover effects on individual buttons only - NO container hover */
        .button-front:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3);
        }

        .button-back:hover {
            background: linear-gradient(135deg, 
                rgba(100, 181, 246, 0.9) 0%,
                rgba(64, 162, 255, 1.0) 50%,
                rgba(30, 136, 229, 0.9) 100%);
            border-color: rgba(100, 181, 246, 0.8);
            box-shadow: 
                0 12px 40px rgba(100, 181, 246, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                0 0 30px rgba(100, 181, 246, 0.5);
        }

        /* Active states - only affect individual button, not the flip container */
        .button-front:active {
            transform: scale(0.98);
        }

        .button-back:active {
            transform: scale(0.98) rotateY(180deg); /* Maintain the flip during active state */
        }

        /* Position details with iOS-style glass */
        .position-details {
            flex: 1;
            background: rgba(255, 255, 255, 0.1); /* match pgsc-info default */
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .position-details:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3);
            transform: translateY(-2px);
        }

        /* Focus/active visual parity - same as .pgsc-info hover styling */
        .scroll-animation-section.button-zoom-in .position-details,
        .scroll-animation-section.button-zoom-in .position-button-container .button-front,
        .scroll-animation-section.details-zoom-in .position-details,
        .scroll-animation-section.details-zoom-in .position-button-container .button-front {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: rgba(255, 255, 255, 0.3) !important;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3) !important;
        }

        /* When fully active, maintain the same enhanced styling as .pgsc-info hover */
        .scroll-animation-section.active .position-details,
        .scroll-animation-section.active .position-button-container .button-front {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: rgba(255, 255, 255, 0.3) !important;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3) !important;
        }

        /* Completely disable hover effects on button containers and flip elements */
        .button-flip-container,
        .button-flip-inner,
        .button-flip-container *,
        .button-flip-inner * {
            pointer-events: none !important;
        }

        /* Re-enable pointer events only on the actual clickable buttons */
        .button-front,
        .button-back {
            pointer-events: auto !important;
        }

        /* Remove ALL hover effects that might interfere with flip animation */
        .scroll-animation-section .position-button-container:hover,
        .scroll-animation-section .button-flip-container:hover,
        .scroll-animation-section .button-flip-inner:hover,
        .scroll-animation-section:hover .position-button-container {
            transform: none !important;
            background: inherit !important;
            border-color: inherit !important;
            box-shadow: inherit !important;
        }



        .position-details h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #64b5f6;
        }

        .position-details p {
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            color: rgba(255, 255, 255, 0.9);
        }

        .position-details ul {
            list-style: none;
            padding: 0;
        }

        .position-details li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            color: rgba(255, 255, 255, 0.8);
        }

        .position-details li::before {
            content: '▶';
            position: absolute;
            left: 0;
            color: #64b5f6;
            font-size: 0.8rem;
        }

        /* Footer */
        .footer {
            position: relative;
            z-index: 10;
            margin-top: 80px;
            padding: 40px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .contact-info {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-info h3 {
            font-size: 2rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ffffff, #64b5f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .contact-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(1.8);
            -webkit-backdrop-filter: blur(20px) saturate(1.8);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .contact-item:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(100, 181, 246, 0.3);
            transform: scale(1.05);
        }

        .contact-item strong {
            color: #64b5f6;
            display: block;
            margin-bottom: 5px;
        }

        .contact-link {
            color: #ffffff;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            padding: 5px 10px;
            border-radius: 6px;
            display: inline-block;
        }

        .contact-link:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
            text-decoration: underline;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }

        .contact-link:active {
            transform: translateY(0px);
            box-shadow: 0 2px 8px rgba(100, 181, 246, 0.3);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                position: relative;
                min-height: 70px;
            }

            .left-logo {
                position: absolute;
                top: 15px;
                left: 15px;
                z-index: 101;
            }

            .nav {
                flex: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                margin: 0 70px;
                padding: 0 10px;
            }

            .right-logo {
                position: absolute;
                top: 15px;
                right: 15px;
                z-index: 101;
            }

            .nav h1 {
                font-size: 1.4rem;
                text-align: center;
                margin: 0;
                line-height: 1.2;
                word-break: break-word;
            }

            .iit-logo, .pgsc-logo {
                height: 40px;
                max-width: 40px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 10px;
                min-height: 60px;
            }

            .left-logo {
                top: 10px;
                left: 10px;
            }

            .right-logo {
                top: 10px;
                right: 10px;
            }

            .nav {
                margin: 0 60px;
                padding: 0 5px;
            }

            .nav h1 {
                font-size: 1.1rem;
                line-height: 1.1;
            }

            .iit-logo, .pgsc-logo {
                height: 30px;
                max-width: 30px;
            }

            .main-content {
                padding: 20px;
            }

            .position-row {
                flex-direction: column;
                gap: 20px;
            }

            /* On mobile, show the details above the button for better reading flow */
            .position-details {
                order: -1; /* Place details before the button container */
            }

            .position-button-container {
                flex: none;
                width: 100%;
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .pgsc-info {
                padding: 20px;
            }

            .pgsc-info h2 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- 3D Parallax Background -->
    <div class="parallax-container" id="parallax-container">
        <div class="parallax-bg parallax-layer-1"></div>
    </div>

    <!-- Glowing lights background -->
    <div class="glow-container">
        <div class="glow-light glow-1"></div>
        <div class="glow-light glow-2"></div>
        <div class="glow-light glow-3"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo-container left-logo">
            <!-- IIT KGP Logo with loading optimization -->
            <img src="images/iitkgp_logo.svg.png" 
                 alt="IIT Kharagpur Logo" 
                 class="iit-logo"
                 loading="eager"
                 decoding="async">
        </div>
        <nav class="nav">
            <h1>PGSC Secretary Nominations</h1>
        </nav>
        <div class="logo-container right-logo">
            <img src="images/Untitled_design-removebg-preview.png" 
                 alt="PGSC Logo" 
                 class="pgsc-logo"
                 loading="eager"
                 decoding="async">
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- PGSC Information Section -->
        <section class="pgsc-info">
            <h2>Post Graduate Students' Council (PGSC)</h2>
            <p>The Post Graduate Students' Council (PGSC) at IIT Kharagpur serves as the representative body for all postgraduate students in the institute. Established to ensure effective governance and representation of postgraduate student interests, the PGSC works tirelessly to enhance the academic, research, and overall campus experience for all PG students.</p>
            <p>The council comprises dedicated secretaries who oversee various aspects of postgraduate life, from academic excellence and research initiatives to technological innovation, media communications, and strategic coordination. Each secretary position plays a crucial role in maintaining the high standards and collaborative spirit that IIT Kharagpur is known for.</p>
        </section>

        <!-- Secretary Positions -->
        <section class="secretary-positions">
            <h2>Secretary Positions</h2>
            
            <!-- Secretary 1: Academic and Research -->
            <div class="position-row scroll-animation-section" data-section="1">
                <div class="position-button-container">
                    <div class="button-flip-container">
                        <div class="button-flip-inner">
                            <!-- Front side - Secretary Button -->
                            <button class="glass-button button-front" data-position="academic">
                                <span class="button-text">Secretary</span>
                                <span class="button-subtitle">Academic and Research</span>
                            </button>
                            <!-- Back side - Apply Button -->
                            <a href="#" class="glass-button button-back apply-button" data-position="academic" target="_blank">
                                <span class="button-text">Apply Now</span>
                                <span class="button-subtitle">Academic & Research Secretary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="position-details" id="academic-details">
                    <h3>Secretary (Academic and Research)</h3>
                    <p>The Secretary for Academic and Research is responsible for overseeing all academic matters concerning postgraduate students. This includes liaising with academic departments, facilitating research opportunities, organizing academic workshops and seminars, and ensuring that the academic needs of PG students are met.</p>
                    <ul>
                        <li>Coordinate with academic departments and faculty</li>
                        <li>Facilitate research collaborations and opportunities</li>
                        <li>Organize academic workshops, seminars, and conferences</li>
                        <li>Address academic grievances and concerns</li>
                        <li>Promote interdisciplinary research initiatives</li>
                    </ul>
                </div>
            </div>

            <!-- Secretary 2: Technology and Innovation -->
            <div class="position-row scroll-animation-section" data-section="2">
                <div class="position-button-container">
                    <div class="button-flip-container">
                        <div class="button-flip-inner">
                            <!-- Front side - Secretary Button -->
                            <button class="glass-button button-front" data-position="technology">
                                <span class="button-text">Secretary</span>
                                <span class="button-subtitle">Technology and Innovation</span>
                            </button>
                            <!-- Back side - Apply Button -->
                            <a href="#" class="glass-button button-back apply-button" data-position="technology" target="_blank">
                                <span class="button-text">Apply Now</span>
                                <span class="button-subtitle">Technology & Innovation Secretary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="position-details" id="technology-details">
                    <h3>Secretary (Technology and Innovation)</h3>
                    <p>The Secretary for Technology and Innovation focuses on promoting technological advancement and innovative thinking among postgraduate students. This role involves organizing hackathons, tech talks, startup incubation programs, and fostering a culture of innovation within the institute.</p>
                    <ul>
                        <li>Organize hackathons, coding competitions, and tech festivals</li>
                        <li>Facilitate startup incubation and entrepreneurship programs</li>
                        <li>Coordinate with industry partners for technology collaborations</li>
                        <li>Promote innovation labs and maker spaces</li>
                        <li>Support patent filing and intellectual property initiatives</li>
                    </ul>
                </div>
            </div>

            <!-- Secretary 3: Media and Communications -->
            <div class="position-row scroll-animation-section" data-section="3">
                <div class="position-button-container">
                    <div class="button-flip-container">
                        <div class="button-flip-inner">
                            <!-- Front side - Secretary Button -->
                            <button class="glass-button button-front" data-position="media">
                                <span class="button-text">Secretary</span>
                                <span class="button-subtitle">Media and Communications</span>
                            </button>
                            <!-- Back side - Apply Button -->
                            <a href="#" class="glass-button button-back apply-button" data-position="media" target="_blank">
                                <span class="button-text">Apply Now</span>
                                <span class="button-subtitle">Media & Communications Secretary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="position-details" id="media-details">
                    <h3>Secretary (Media and Communications)</h3>
                    <p>The Secretary for Media and Communications manages all internal and external communications for the PGSC. This includes maintaining social media presence, publishing newsletters, coordinating with media outlets, and ensuring effective communication between the council and the student body.</p>
                    <ul>
                        <li>Manage PGSC social media accounts and digital presence</li>
                        <li>Publish regular newsletters and updates</li>
                        <li>Coordinate with campus and external media</li>
                        <li>Design promotional materials and communications</li>
                        <li>Maintain transparency through regular reporting</li>
                    </ul>
                </div>
            </div>

            <!-- Secretary 4: Coordination and Strategy -->
            <div class="position-row scroll-animation-section" data-section="4">
                <div class="position-button-container">
                    <div class="button-flip-container">
                        <div class="button-flip-inner">
                            <!-- Front side - Secretary Button -->
                            <button class="glass-button button-front" data-position="strategy">
                                <span class="button-text">Secretary</span>
                                <span class="button-subtitle">Coordination and Strategy</span>
                            </button>
                            <!-- Back side - Apply Button -->
                            <a href="#" class="glass-button button-back apply-button" data-position="strategy" target="_blank">
                                <span class="button-text">Apply Now</span>
                                <span class="button-subtitle">Coordination & Strategy Secretary</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="position-details" id="strategy-details">
                    <h3>Secretary (Coordination and Strategy)</h3>
                    <p>The Secretary for Coordination and Strategy oversees the overall strategic planning and coordination of PGSC activities. This role involves policy development, inter-departmental coordination, event planning, and ensuring smooth functioning of all council operations.</p>
                    <ul>
                        <li>Develop long-term strategic plans for PGSC initiatives</li>
                        <li>Coordinate between different secretary positions</li>
                        <li>Plan and execute major events and festivals</li>
                        <li>Facilitate communication with institute administration</li>
                        <li>Monitor and evaluate council performance and initiatives</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="contact-info">
            <h3>Contact Information</h3>
            <div class="contact-grid">
                <div class="contact-item">
                    <strong>Email:</strong> <a href="mailto:pgrep@hijli.iitkgp.ac.in" class="contact-link">pgrep@hijli.iitkgp.ac.in</a>
                </div>
                <div class="contact-item">
                    <strong>WhatsApp:</strong> <a href="https://wa.me/919064001633" class="contact-link" target="_blank">+91-9064001633</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Interactive button functionality
        document.querySelectorAll('.glass-button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('.glass-button').forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
            });
        });

        // Google Forms URLs for each secretary position
        const googleFormUrls = {
            'academic': 'https://forms.gle/mvQhgfhQUUXPFr7f9',
            'technology': 'https://forms.gle/gMMXfHRpJS19kqB4A',
            'media': 'https://forms.gle/w4jQRsAvjJ58TMVo7',
            'strategy': 'https://forms.gle/2WCvHLQ6GfN4DaT96'
        };

        // Apply button functionality (now the flipped back side of buttons)
        document.querySelectorAll('.button-back.apply-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const position = this.dataset.position;
                const url = googleFormUrls[position];
                
                if (url && url !== 'https://forms.gle/YOUR_' + position.toUpperCase() + '_FORM_ID_HERE') {
                    // Open Google Form in new tab
                    window.open(url, '_blank');
                } else {
                    // Show alert if URL not configured yet
                    alert(`Google Form URL for ${position} secretary position is not configured yet. Please contact the administrator.`);
                }
            });
        });

        // Scroll-based zoom animation and rainbow triggers
        function handleScrollAnimation() {
            const scrollTop = window.pageYOffset;
            const windowHeight = window.innerHeight;
            
            // Handle rainbow animations for specific elements
            handleRainbowAnimations();
            
            document.querySelectorAll('.scroll-animation-section').forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const sectionTop = rect.top;
                const sectionHeight = rect.height;
                
                // Remove all animation classes first
                section.classList.remove('button-zoom-in', 'details-zoom-in', 'active');
                
                // Check if section is in viewport
                if (sectionTop < windowHeight && rect.bottom > 0) {
                    // Calculate scroll progress through the section
                    const scrollProgress = (windowHeight - sectionTop) / (windowHeight + sectionHeight);
                    const normalizedProgress = Math.max(0, Math.min(1, scrollProgress));

                    // Mobile-specific behavior: make button and details come into focus roughly together
                    if (window.innerWidth <= 768) {
                        // On mobile, compress the phases so both elements zoom near the same time
                        if (normalizedProgress >= 0.08 && normalizedProgress < 0.45) {
                            // Both begin to emphasize (button zoom in)
                            section.classList.add('button-zoom-in');
                        }

                        // Find the details element and compute its center relative to viewport
                        const detailsEl = section.querySelector('.position-details');
                        if (detailsEl) {
                            const dRect = detailsEl.getBoundingClientRect();
                            const detailsCenter = dRect.top + dRect.height / 2;
                            const viewportMiddle = windowHeight / 2;
                            const distance = Math.abs(detailsCenter - viewportMiddle);
                            // threshold: 30% of viewport height (move focus earlier on mobile)
                            const threshold = windowHeight * 0.30;

                            if (distance <= threshold) {
                                // details are near the middle - trigger both button and details focus together
                                section.classList.add('button-zoom-in', 'details-zoom-in');
                            } else if (normalizedProgress >= 0.08 && normalizedProgress < 0.45) {
                                // fallback: emphasize button during the phase window
                                section.classList.add('button-zoom-in');
                            }
                        } else {
                            // If no details element found, fallback to normalized progress for button emphasis
                            if (normalizedProgress >= 0.08 && normalizedProgress < 0.45) {
                                section.classList.add('button-zoom-in');
                            }
                        }

                        // Active state when mostly in view
                        if (normalizedProgress >= 0.85) {
                            section.classList.add('active');
                        }
                    } else {
                        // Desktop behavior - improved phase detection
                        if (normalizedProgress >= 0.05 && normalizedProgress < 0.35) {
                            // Phase 1: Button zoom in (flip happens here)
                            section.classList.add('button-zoom-in');
                        } else if (normalizedProgress >= 0.35 && normalizedProgress < 0.65) {
                            // Phase 2: Details zoom in  
                            section.classList.add('details-zoom-in');
                        } else if (normalizedProgress >= 0.65) {
                            // Phase 3: Both at normal size (active state)
                            section.classList.add('active');
                        }
                    }
                }
            });
        }

        // Animation trigger function
        function handleRainbowAnimations() {
            const windowHeight = window.innerHeight;
            
            // Elements with rainbow effect
            const rainbowElements = [
                { selector: '.pgsc-info h2', triggered: false },
                { selector: '.secretary-positions h2', triggered: false }
            ];
            
            rainbowElements.forEach(elementData => {
                const elements = document.querySelectorAll(elementData.selector);
                elements.forEach(element => {
                    if (!element.dataset.rainbowTriggered) {
                        const rect = element.getBoundingClientRect();
                        const elementTop = rect.top;
                        const elementBottom = rect.bottom;
                        
                        // Trigger when element is 70% visible in viewport
                        if (elementTop < windowHeight * 0.7 && elementBottom > 0) {
                            element.classList.add('rainbow-triggered');
                            element.dataset.rainbowTriggered = 'true';
                        }
                    }
                });
            });
        }
        
        // Smooth animation with requestAnimationFrame
        let animationTicking = false;
        function requestAnimationTick() {
            if (!animationTicking) {
                requestAnimationFrame(handleScrollAnimation);
                animationTicking = true;
            }
        }
        
        function onScrollAnimation() {
            animationTicking = false;
            requestAnimationTick();
        }
        
        // Initialize scroll animation
        window.addEventListener('scroll', onScrollAnimation, { passive: true });
        window.addEventListener('resize', onScrollAnimation, { passive: true });
        
        // Initial call
        handleScrollAnimation();

        // 3D Parallax Effect
        
        let mouseX = 0;
        let mouseY = 0;
        let currentX = 0;
        let currentY = 0;
        
        // Mouse movement handler
        function handleMouseMove(e) {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            mouseX = (e.clientX - centerX) / centerX;
            mouseY = (e.clientY - centerY) / centerY;
        }
        
        // Device orientation handler for mobile
        function handleOrientation(e) {
            if (e.beta !== null && e.gamma !== null) {
                // Enhanced sensitivity range for dramatic depth effect
                const clampedGamma = Math.max(-60, Math.min(60, e.gamma));
                const clampedBeta = Math.max(-60, Math.min(60, e.beta));
                
                // Increased sensitivity for much more responsive and dramatic movement
                mouseX = clampedGamma / 30; // Normalize to wider range for more effect
                mouseY = clampedBeta / 30;
                
                // Reduced smoothing for more immediate response
                mouseX *= 1.2; // Amplify the effect
                mouseY *= 1.2;
                
                // Clamp to prevent extreme values
                mouseX = Math.max(-1.5, Math.min(1.5, mouseX));
                mouseY = Math.max(-1.5, Math.min(1.5, mouseY));
            }
        }
        
        // iOS permission request for device orientation
        function requestOrientationPermission() {
            if (typeof DeviceOrientationEvent.requestPermission === 'function') {
                DeviceOrientationEvent.requestPermission()
                    .then(response => {
                        if (response === 'granted') {
                            window.addEventListener('deviceorientation', handleOrientation, { passive: true });
                            console.log('Device orientation permission granted');
                        } else {
                            console.log('Device orientation permission denied');
                        }
                    })
                    .catch(error => {
                        console.error('Error requesting device orientation permission:', error);
                    });
            } else {
                // Non-iOS 13+ device - directly add event listener
                window.addEventListener('deviceorientation', handleOrientation, { passive: true });
                console.log('Device orientation enabled (no permission required)');
            }
        }

        // Auto-request permission when page loads (iOS Safari sometimes allows this)
        function initializeOrientationOnLoad() {
            if (navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('iPad')) {
                // Make the entire screen tappable for permission request
                let permissionRequested = false;
                const requestPermissionOnTouch = (e) => {
                    if (!permissionRequested) {
                        permissionRequested = true;
                        requestOrientationPermission();
                        // Remove listeners after first touch
                        document.removeEventListener('touchstart', requestPermissionOnTouch);
                        document.removeEventListener('click', requestPermissionOnTouch);
                    }
                };
                
                // Add touch listeners for permission request
                document.addEventListener('touchstart', requestPermissionOnTouch);
                document.addEventListener('click', requestPermissionOnTouch);
                
                // Try to auto-detect device motion without permission (for older iOS)
                const testOrientation = (e) => {
                    if (e.beta !== null && e.gamma !== null && !permissionRequested) {
                        // Motion detected without permission - add listener
                        window.addEventListener('deviceorientation', handleOrientation, { passive: true });
                        window.removeEventListener('deviceorientation', testOrientation);
                    }
                };
                
                // Test if orientation works without permission
                window.addEventListener('deviceorientation', testOrientation, { passive: true });
                
                // Remove test listener after 3 seconds
                setTimeout(() => {
                    window.removeEventListener('deviceorientation', testOrientation);
                }, 3000);
            }
        }
        
        // Smooth animation function (slower, more relaxed movement)
        function animateParallax() {
            // Smooth interpolation for fluid movement
            // Reduced interpolation factor for slower following (more inertia)
            currentX += (mouseX - currentX) * 0.04;
            currentY += (mouseY - currentY) * 0.04;
            
            // Apply transforms to the single layer
            const layer = document.querySelector('.parallax-layer-1');
            if (layer) {
                // Reduced intensity for subtler, slower background movement
                let intensity = 2.0; // gentler base intensity for desktop
                if (navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('iPad')) {
                    intensity = 2.4; // slightly higher but still gentle for iOS
                } else if (window.innerWidth <= 768) {
                    intensity = 2.2; // mobile devices
                }

                // Smaller multiplier for translation so the layer moves less
                const translateX = currentX * intensity * 18;
                const translateY = currentY * intensity * 18;
                
                // Use translate3d for better performance across all devices
                const transform = `translate3d(${translateX}px, ${translateY}px, 0)`;
                layer.style.transform = transform;
                layer.style.webkitTransform = transform; // iOS Safari prefix
            }
            
            requestAnimationFrame(animateParallax);
        }
        
        // Event listeners
        document.addEventListener('mousemove', handleMouseMove, { passive: true });
        
        // Add device orientation support for mobile
        if (window.DeviceOrientationEvent) {
            // For iOS 13+ devices, request permission only on user interaction
            if (navigator.userAgent.includes('iPhone') || navigator.userAgent.includes('iPad')) {
                // Don't request immediately - wait for user interaction
                // Also start with basic touch parallax as backup
                enableTouchParallax();
            } else {
                window.addEventListener('deviceorientation', handleOrientation, { passive: true });
            }
        } else {
            // Enable touch parallax for devices without orientation support
            enableTouchParallax();
        }
        
        // Enhanced touch parallax function
        function enableTouchParallax() {
            let isActiveTouchParallax = false;
            
            document.addEventListener('touchstart', (e) => {
                isActiveTouchParallax = true;
                const touchX = e.touches[0].clientX;
                const touchY = e.touches[0].clientY;
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;
                
                // Reduced sensitivity for slower, subtler touch parallax
                mouseX = (touchX - centerX) / centerX * 0.4;
                mouseY = (touchY - centerY) / centerY * 0.4;
            }, { passive: true });
            
            document.addEventListener('touchmove', (e) => {
                if (isActiveTouchParallax) {
                    const touchX = e.touches[0].clientX;
                    const touchY = e.touches[0].clientY;
                    const centerX = window.innerWidth / 2;
                    const centerY = window.innerHeight / 2;
                    
                    // Reduced sensitivity for slower, subtler touch parallax
                    mouseX = (touchX - centerX) / centerX * 0.4;
                    mouseY = (touchY - centerY) / centerY * 0.4;
                }
            }, { passive: true });
            
            document.addEventListener('touchend', () => {
                isActiveTouchParallax = false;
                // Gradually return to center
                const returnToCenter = () => {
                    mouseX *= 0.95;
                    mouseY *= 0.95;
                    if (Math.abs(mouseX) > 0.01 || Math.abs(mouseY) > 0.01) {
                        requestAnimationFrame(returnToCenter);
                    } else {
                        mouseX = 0;
                        mouseY = 0;
                    }
                };
                returnToCenter();
            }, { passive: true });
        }
        
        // Reset position when mouse leaves
        document.addEventListener('mouseleave', () => {
            mouseX = 0;
            mouseY = 0;
        });
        
        // Initialize device orientation on page load
        initializeOrientationOnLoad();
        
        // Start the parallax animation
        animateParallax();

        // Initialize hardware acceleration for parallax
        document.addEventListener('DOMContentLoaded', function() {
            const parallaxBg = document.querySelector('.parallax-bg');
            if (parallaxBg) {
                parallaxBg.style.willChange = 'transform';
                parallaxBg.style.transform = 'translateZ(0)';
            }
        });
    </script>
</body>
</html>
